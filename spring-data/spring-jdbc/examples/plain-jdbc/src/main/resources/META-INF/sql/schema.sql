
drop table IF EXISTS CONTACT_TEL_DETAIL;
drop TABLE IF EXISTS CONTACT;
drop SEQUENCE IF EXISTS dev_id;

CREATE SEQUENCE dev_id;

CREATE TABLE CONTACT (
id integer NOT NULL DEFAULT nextval('dev_id') PRIMARY KEY ,
FIRST_NAME VARCHAR(60) NOT NULL,
LAST_NAME VARCHAR(40) NOT NULL,
BIRTH_DATE DATE,
UNIQUE (FIRST_NAME, LAST_NAME)
);


CREATE TABLE CONTACT_TEL_DETAIL (
    id integer NOT NULL DEFAULT nextval('dev_id') PRIMARY KEY ,
    CONTACT_ID integer NOT NULL REFERENCES CONTACT (id),
    TEL_TYPE VARCHAR(20) NOT NULL,
    TEL_NUMBER VARCHAR(20) NOT NULL,
    UNIQUE  (CONTACT_ID, TEL_TYPE)
);
